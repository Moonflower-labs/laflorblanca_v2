import{k as t,m as i,a as l,f as o,j as e,L as n,d as c}from"./index-Sun4s9jo.js";const m=async()=>{if(t.isAuthenticated)return i("/");const a=await l.options("api/login/");return a?a.data:null},p=async({request:a})=>{const r=await a.formData();try{if(await t.login(r),t.isAuthenticated){const s=r.get("redirectTo");i(s||"/")}}catch(s){console.error(s)}return null},h=()=>{const a=o(),s=new URLSearchParams(a.search).get("from")||"/";return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-5xl text-primary font-bold",children:"Iniciar sesión"}),e.jsxs("p",{className:"py-8",children:["¿ No tienes una cuenta ?"," ",e.jsx(n,{to:"register",className:"link-primary",children:"Registro"})]})]}),e.jsx(c,{method:"post",children:e.jsx("div",{className:"card shrink-0 w-full shadow-2xl bg-base-100 mx-auto",children:e.jsxs("div",{className:"card-body",children:[e.jsx("input",{type:"hidden",name:"redirectTo",value:s}),e.jsxs("div",{className:"form-control mb-3",children:[e.jsx("input",{type:"text",placeholder:"Usuario",className:"floating-label-input peer",name:"username",id:"username"}),e.jsx("label",{htmlFor:"username",className:"floating-label",children:"Nombre de usuario"})]}),e.jsxs("div",{className:"form-control mb-3",children:[e.jsx("input",{type:"password",placeholder:"Contraseña",className:"floating-label-input peer",name:"password",id:"password",required:!0}),e.jsx("label",{htmlFor:"password",className:"floating-label",children:"Contraseña"}),e.jsx("div",{className:"label",children:e.jsx(n,{to:"/reset-password",className:"label-text-alt link link-hover",children:"Olvidaste tu contraseña?"})})]}),e.jsx("div",{className:"form-control mt-6",children:e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Iniciar sesión"})})]})})})]})};export{h as Login,p as loginAction,m as loginLoader};
