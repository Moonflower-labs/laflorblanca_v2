import{a as u,B as n,m as x,n as f,c as h,e as b,j as r,d as j}from"./index-DoNRI4aa.js";const g=async({request:a,params:s})=>{var t,i,c;const{uidb64:l,token:m}=s,o=await a.formData(),d=o.get("password"),p=o.get("confirm");if(d!==p)return{error:"Las contraseñas no coinciden"};try{return await u.patch(`api/reset/${l}/${m}`,o),n.success("Tu contraseña ha sido cambiada"),x("/login")}catch(e){console.error(e),n.error("Ha ocurrido un error"),e instanceof f&&((t=e.response)!=null&&t.data.error)&&n.warning((c=(i=e.response)==null?void 0:i.data)==null?void 0:c.error)}return null},w=()=>{const{error:a}=h()||{error:null},s=b();return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"text-center",children:[r.jsx("h1",{className:"text-4xl font-bold  mb-4",children:"Comfirma el cambio de contraseña"}),r.jsx("p",{className:"py-8 w-2/3 mx-auto",children:"Elige una contraseña nueva."})]}),r.jsx("div",{className:"card shrink-0 w-full max-w-sm shadow-2xl bg-base-100",children:r.jsxs(j,{method:"post",className:"card-body",children:[r.jsxs("div",{className:"form-control mb-3",children:[r.jsx("input",{type:"password",placeholder:"Contraseña",className:"floating-label-input peer",name:"password",id:"password",required:!0}),r.jsx("label",{htmlFor:"password",className:"floating-label",children:"Contraseña"})]}),r.jsxs("div",{className:"form-control mb-3",children:[r.jsx("input",{type:"password",placeholder:"Comfirmación",className:"floating-label-input peer",name:"confirm",id:"confirm",required:!0}),r.jsx("label",{htmlFor:"confirm",className:"floating-label",children:"Comfirmación"})]}),a&&r.jsx("div",{className:"text-error text-center",children:a}),r.jsx("div",{className:"form-control mt-6",children:r.jsx("button",{type:"submit",disabled:s.state==="submitting",className:"btn btn-primary",children:"Confirmar"})})]})})]})};export{w as ConfirmReset,g as confirmResetAction};
