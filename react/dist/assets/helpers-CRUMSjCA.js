import{d as l,j as e,m as r,o as x,q as u,k as h,t as p,r as o,w as j,n as f}from"./index-DBHNzPA1.js";const b=({object:a,isFavorite:s})=>{var n;const t=l(),i=t.formData?((n=t.formData)==null?void 0:n.get("action"))==="add":s;return e.jsx(t.Form,{method:"post",className:"my-auto",children:e.jsxs("fieldset",{disabled:t.state!=="idle",children:[e.jsx("input",{type:"hidden",name:"id",value:a.id}),e.jsx("input",{type:"hidden",name:"action",value:i?"remove":"add"}),e.jsx("input",{type:"hidden",name:"intent",value:"favorite"}),e.jsx("button",{type:"submit",className:"text-accent text-xl",name:"id",value:a.id,children:i?e.jsx(r.div,{initial:{scale:0},animate:{scale:1},children:e.jsx(x,{size:25})},"favorite"):e.jsx(r.div,{initial:{scale:0},animate:{scale:1},children:e.jsx(u,{size:25})},"unfavorite")})]})})},y=({comment:a})=>{var s;return e.jsxs(r.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8},className:"chat chat-start mb-2",children:[e.jsxs("div",{className:"chat-header mb-2",children:[a.user,e.jsx("time",{className:"text-xs opacity-50 ms-3",children:h(a.created)})]}),e.jsxs("div",{className:"chat-footer mt-1",children:[(s=a.likes)==null?void 0:s.length," me gusta.",e.jsx("span",{className:"text-xs opacity-50 ms-3",children:p(a.likes)})]}),e.jsx("div",{className:"chat-bubble chat-bubble-primary",children:a.text})]},`comment-${a.id}`)},N=({object:a,fieldName:s})=>{var n,c;const t=l(),i=o.useRef(null);return o.useEffect(()=>{var m,d;t.state==="idle"&&((m=t.data)!=null&&m.message)&&((d=i.current)==null||d.reset())},[(n=t.data)==null?void 0:n.message,t.state,i]),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-xl text-primary mb-4",children:"Añade un comentario"}),e.jsxs(t.Form,{ref:i,method:"post",action:"/comment",className:"flex flex-col mx-3 md:w-1/3 md:mx-auto pb-4",children:[e.jsx("input",{type:"hidden",name:s,value:a.id}),e.jsx("textarea",{className:"textarea textarea-primary mb-4",placeholder:"Comentario",name:"text"}),e.jsx("p",{className:"text-error mb-3",children:((c=t.data)==null?void 0:c.error)&&t.data.error}),e.jsx("button",{type:"submit",className:"btn btn-primary btn-sm w-1/2 mx-auto",children:"Añadir"})]})]})},k=({object:a,id:s,isLiked:t})=>{const i=l(),n=i.formData?i.formData.get("action")==="like":t;return e.jsxs(i.Form,{method:"post",className:"my-auto",children:[e.jsx("input",{type:"hidden",name:a,value:s}),e.jsx("input",{type:"hidden",name:"intent",value:"like"}),e.jsx("button",{type:"submit",name:"action",value:n?"dislike":"like",children:n?e.jsx(r.div,{initial:{scale:0},animate:{scale:1},children:e.jsx(j,{className:"text-primary",size:25})},"liked"):e.jsx(r.div,{initial:{scale:0},animate:{scale:1},children:e.jsx(f,{className:"text-primary",size:25})},"disliked")})]})};function F(a,s){return a==null||s==null?!1:s.includes(a)}export{y as C,b as F,k as L,N as a,F as i};
