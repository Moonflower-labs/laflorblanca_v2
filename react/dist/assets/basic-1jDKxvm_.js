import{x as w,B as h,u as D,d as E,r as j,j as e}from"./index-CJzJuuVF.js";const A=async()=>{try{return{basic_used_questions:(await w.get("api/basic-questions/retrieve_basic_used_questions/")).data}}catch(o){console.error(o)}return null},L=async({request:o})=>{const a=await o.formData();if(((a==null?void 0:a.get("remaining_questions"))||0)<=0)return h.error("Yas has usado el máximo numero de preguntas este mes"),null;const t=a.get("name"),p=a.get("age_group"),i=a.get("subject"),d=a.get("text"),l={};if((!t||t.toString().length<1)&&(l.name="Debes dar un nombre"),p||(l.age_group="Elige un grupo de edad"),i||(l.subject="Elige un tema"),d||(l.text="Escribe una pregunta"),Object.keys(l).length)return{errors:l};try{const n=await w.post("api/basic-questions/",a),m=new Promise(u=>u(n));return h.promise(m,{pending:"Enviando pregunta...",success:"Pregunta enviada",error:"Ha ocurrido un error."}),n.data}catch(n){console.error(n),h.error("Ha ocurrido un error.")}return null};function H(){var i,d,l,n,m,u,N,g,v,y,f,k,q;const{basic_used_questions:o=3}=D()||{basic_used_questions:3},a=3-Number(o),s=E(),t=j.useRef(null),p=r=>{const c=document.querySelector('input[name="another"]');r.target.checked?(c.disabled=!1,c.required=!0):(c.disabled=!0,c.value="",c.required=!1)};return j.useEffect(()=>{var r;s.state==="idle"&&s.data&&!s.data.errors&&((r=t.current)==null||r.reset())},[s.state,s.data]),j.useEffect(()=>{var _;const r=((_=s.data)==null?void 0:_.errors)||{},c=document.querySelector("form#question");for(const x in r)if(r[x]){const b=c==null?void 0:c.querySelector(`input[name="${x}"], select[name="${x}"], textarea[name="${x}"]`);if(b){b.setAttribute("tabindex","0"),b.focus(),b.classList.add("input-error");break}}},[(i=s.data)==null?void 0:i.errors]),e.jsxs("div",{className:"text-center pt-16 pb-6",children:[e.jsx("h2",{className:"text-3xl font-semibold text-primary mb-1",children:"Pregunta de Personalidad"}),e.jsxs("div",{className:"p-10 pt-6 md:w-2/4 mx-auto",children:[e.jsx("p",{className:"text-2xl mb-3",children:"Hola Almas Oscuras y Luminosas"}),e.jsx("p",{children:"Aquí podéis preguntar de una manera más anónima todo aquello que verdaderamente os inquieta (siguiendo la línea de mi contenido) y que no os atrevéis a hacer en los canales públicos. No mencionaremos ningún dato personal solo la pregunta en sí al responder."})]}),e.jsxs("div",{className:"mb-6",children:["Preguntas disponibles:",e.jsxs("span",{className:"text-warning",children:[" ",a," "]}),"de",e.jsx("span",{className:"text-warning",children:" 3"})]}),e.jsxs(s.Form,{ref:t,method:"post",id:"question",className:"bg-primary/30 p-2 rounded-lg md:w-1/2 mx-auto shadow-lg",children:[e.jsx("input",{type:"hidden",name:"remaining_questions",value:a}),e.jsxs("div",{className:"p-10",children:[e.jsxs("div",{className:"form-control mb-3",children:[e.jsxs("label",{className:"label",children:[e.jsx("span",{className:"label-text me-3 md:me-0",children:"Nombre"}),e.jsx("input",{type:"text",name:"name",placeholder:"Nombre",className:"input input-bordered w-full max-w-xs $"})]}),((l=(d=s==null?void 0:s.data)==null?void 0:d.errors)==null?void 0:l.name)&&e.jsx("span",{className:"text-error",children:(m=(n=s==null?void 0:s.data)==null?void 0:n.errors)==null?void 0:m.name})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{children:[" ","1. ¿Tu pregunta es sobre Limpiezas, Emociones y Sentimientos Discordantes, Ataques Psíquicos o Habilidades Psíquicas?"]}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text",children:"Limpiezas"}),e.jsx("input",{type:"radio",name:"subject",className:"radio checked:bg-secondary",value:"Limpiezas"})]})}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text",children:"Emociones y Sentimientos Discordantes"}),e.jsx("input",{type:"radio",name:"subject",className:"radio checked:bg-secondary",value:"Emociones"})]})}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text",children:"Ataques Psíquicos"}),e.jsx("input",{type:"radio",name:"subject",className:"radio checked:bg-secondary",value:"Ataques Psíquicos"})]})}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text",children:"Habilidades Psíquicas"}),e.jsx("input",{type:"radio",name:"subject",className:"radio checked:bg-secondary",value:"Habilidades Psíquicas"})]})}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsxs("span",{className:"label-text",children:["Otro"," ",e.jsx("span",{className:"font-semibold",children:"(siguiendo la línea de nuestro contenido)"})," "]}),e.jsx("input",{type:"radio",name:"subject",className:"radio checked:bg-secondary",value:"Other"})]})})]}),e.jsxs("label",{className:"form-control mb-6",children:[e.jsxs("div",{className:"label",children:[e.jsx("span",{className:"label-text",children:"2. ¿Qué duda tienes o te interesa saber sobre este tema?"}),e.jsx("span",{className:"label-text-alt",children:"Alt label"})]}),e.jsx("textarea",{className:"textarea textarea-bordered h-24",placeholder:"Escribe tu pregunta aqui...",name:"text"}),((N=(u=s==null?void 0:s.data)==null?void 0:u.errors)==null?void 0:N.text)&&e.jsx("span",{className:"text-error mt-3",children:(v=(g=s==null?void 0:s.data)==null?void 0:g.errors)==null?void 0:v.text})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("div",{children:" 3. ¿Dónde has oído hablar de nosotros?"}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text",children:"Telegram"}),e.jsx("input",{type:"checkbox",className:"checkbox checkbox-secondary",value:"Telegram",name:"media"})]})}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text",children:"YouTube"}),e.jsx("input",{type:"checkbox",className:"checkbox checkbox-secondary",value:"YouTube",name:"media"})]})}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text",children:"Instagram"}),e.jsx("input",{type:"checkbox",className:"checkbox checkbox-secondary",value:"Instagram",name:"media"})]})}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text",children:"Facebook"}),e.jsx("input",{type:"checkbox",className:"checkbox checkbox-secondary",value:"Facebook",name:"media"})]})}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text",children:"LinkedIn"}),e.jsx("input",{type:"checkbox",className:"checkbox checkbox-secondary",value:"LinkedIn",name:"media"})]})}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text",children:"Anuncio"}),e.jsx("input",{type:"checkbox",className:"checkbox checkbox-secondary",value:"Anuncio",name:"media"})]})}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text",children:"De boca en boca"}),e.jsx("input",{type:"checkbox",className:"checkbox checkbox-secondary",value:"De boca en boca",name:"media"})]})}),e.jsxs("div",{className:"form-control",children:[e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text",children:"Otro"}),e.jsx("input",{type:"checkbox",className:"checkbox checkbox-secondary",value:"otro",name:"media",onChange:r=>{p(r)}})]}),e.jsx("input",{type:"text",placeholder:"Especifica aquí...",className:"input input-bordered w-full max-w-xs",name:"another",disabled:!0})]})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{children:"4. ¿Cúal es tu grupo de edad?"}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text",children:"De 16 a 25 años "}),e.jsx("input",{type:"radio",name:"age_group",className:"radio checked:bg-secondary",value:"16-25"})]})}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text",children:"De 26 a 35 años"}),e.jsx("input",{type:"radio",name:"age_group",className:"radio checked:bg-secondary",value:"26-35"})]})}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text",children:"De 36 a 45 años"}),e.jsx("input",{type:"radio",name:"age_group",className:"radio checked:bg-secondary",value:"36-45"})]})}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text",children:"De 46 a 55 años"}),e.jsx("input",{type:"radio",name:"age_group",className:"radio checked:bg-secondary",value:"46-55"})]})}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text",children:"De 56 a 65 años"}),e.jsx("input",{type:"radio",name:"age_group",className:"radio checked:bg-secondary",value:"56-65"})]})}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text",children:"De 66 a 75 años"}),e.jsx("input",{type:"radio",name:"age_group",className:"radio checked:bg-secondary",value:"66-75"})]})}),e.jsx("div",{className:"form-control",children:e.jsxs("label",{className:"label cursor-pointer",children:[e.jsx("span",{className:"label-text",children:"Mayor de 75 años"}),e.jsx("input",{type:"radio",name:"age_group",className:"radio checked:bg-secondary",value:">75"})]})}),((f=(y=s==null?void 0:s.data)==null?void 0:y.errors)==null?void 0:f.age_group)&&e.jsx("span",{className:"text-error",children:(q=(k=s==null?void 0:s.data)==null?void 0:k.errors)==null?void 0:q.age_group})]}),e.jsxs("label",{className:"label",children:[e.jsx("div",{className:"label",children:e.jsx("span",{className:"label-text",children:"5. ¿Cúal es tu Género?"})}),e.jsxs("select",{className:"select select-bordered",name:"gender",required:!0,children:[e.jsx("option",{value:"mujer",children:"Mujer"}),e.jsx("option",{value:"hombre",children:"Hombre"})]})]}),e.jsx("div",{className:"form-control mb-3",children:e.jsxs("label",{className:"label",children:[e.jsx("span",{className:"label-text me-3 md:me-0",children:"6. ¿Desde qué país nos contactas?"}),e.jsx("input",{type:"text",name:"country",placeholder:"País",className:"input input-bordered w-full max-w-xs",required:!0})]})}),e.jsx("div",{className:"form-control mb-3",children:e.jsxs("label",{className:"label",children:[e.jsx("span",{className:"label-text me-3 md:me-0",children:"6. ¿Desde qué ciudad nos contactas?"}),e.jsx("input",{type:"text",name:"city",placeholder:"Ciudad",className:"input input-bordered w-full max-w-xs",required:!0})]})})]}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Enviar"})]})]})}export{H as BasicQuestion,L as basicAction,A as basicLoader};
